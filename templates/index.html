<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css"/>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/main.css') }}"/>
    <!--<script src="https://code.jquery.com/jquery-3.3.1.js"></script>-->
    <!--<script src="https://cdn.socket.io/socket.io-1.0.0.js"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>-->
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script type="text/javascript" charset="utf-8">
        $(document).ready(function(){
          var socket = io.connect();

          socket.on('connect', function() {
            console.log("connected!")
            socket.emit('connected')
          })

          socket.on('render keys', function(payload) {
            console.log(payload)
            console.log("hello")
            for (var key in payload) {
              $('div#'+key).empty()
              if (payload[key]['status'] === 'home') {
                $('div#'+key).append('<img class = "profile w2 h2 br-100" src="../static/img/greencheck.png"/>')
              }
            }
          });
            /*
            var socket = io.connect();

            socket.on('connect', function() {
              console.log("connected!")
              socket.emit('connected')
            })

            socket.on('render keys', function(payload) {
              console.log(payload)
              console.log("hello")
              for (var key in payload) {
                $('div#'+key).empty()
                if (payload[key]['status'] === 'home') {
                  $('div#'+key).append('<img class = "profile w2 h2 br-100" src="../static/img/greencheck.png"/>')
                }
              }
            });
            */

            /*
            var socket = io.connect();

            socket.on('connect', function() {
              console.log('Websocket connected!');
            });
            */


            //var socket = io.connect();
            /*
            socket.on('connect', function() {
                socket.emit('connect');
            });
            */

            /*
            socket.on('render keys', function(payload) {
              console.log(payload)
              console.log("hello")
              for (var key in payload) {
                $('div#'+key).empty()
                if (payload[key]['status'] === 'home') {
                  $('div#'+key).append('<img class = "profile w2 h2 br-100" src="../static/img/greencheck.png"/>')
                }
              }
            });
            */

        });
    </script>
  </head>
  <body>
    <div class="mw6 center mt5">
      <h1 class="tc">Who's Home?</h1>
      <h2 class="tc">123 Main Street</h2>
      <div class="tablerow bg-moon-gray mt3">
        <div class="resident pa2">
          <h3 class="center">RESIDENT</h3>
        </div>
        <div class="at-home pa2">
          <h3 class="center">HOME</h3>
        </div>
        <div class="not-at-home pa2">
          <h3 class="center">NOT HOME</h3>
        </div>
      </div>
      <div class="tablerow bg-light-gray mt2">
        <div class="resident pa3">
          <img class="profile w3 h3 br-100 mr3" src="../static/img/claire.jpg"/>
          <h4>{{key1['name']}}</h4>
        </div>
        <div class="b--light-silver bl br at-home pa2">
          <div class="icon-wrapper">
          </div>
        </div>
        <div class="not-at-home pa2">
          <div class="icon-wrapper">
            <img class = "profile w2 h2 br-100" src="../static/img/x.png"/>
          </div>
        </div>
      </div>
      <div class="tablerow bg-light-gray mt2">
        <div class="resident pa3">
          <img class="profile w3 h3 br-100 mr3" src="../static/img/michelle.jpg"/>
          <h4>{{key2['name']}}</h4>
        </div>
        <div class="b--light-silver bl br at-home pa2">
          <div class="icon-wrapper">
          </div>
        </div>
        <div class="not-at-home pa2">
          <div class="icon-wrapper">
            <img class = "profile w2 h2 br-100" src="../static/img/x.png"/>
          </div>
        </div>
      </div>
      <div class="tablerow bg-light-gray mt2">
        <div class="resident pa3">
          <img class="profile w3 h3 br-100 mr3" src="../static/img/sarvesh.jpg"/>
          <h4>{{key3['name']}}</h4>
        </div>
        <div class="b--light-silver bl br at-home pa2">
          <div class="icon-wrapper">
          </div>
        </div>
        <div class="not-at-home pa2">
          <div class="icon-wrapper">
            <img class = "profile w2 h2 br-100" src="../static/img/x.png"/>
          </div>
        </div>
      </div>
      <div class="tablerow bg-light-gray mt2">
        <div class="resident pa3">
          <img class="profile w3 h3 br-100 mr3" src="../static/img/daniel.jpg"/>
          <h4>{{key4['name']}}</h4>
        </div>
        <div class="b--light-silver bl br at-home pa2">
          <div class="icon-wrapper">
          </div>
        </div>
        <div class="not-at-home pa2">
          <div class="icon-wrapper">
            <img class = "profile w2 h2 br-100" src="../static/img/x.png"/>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
